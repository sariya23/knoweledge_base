Источники:
- https://habr.com/ru/companies/avito/articles/710678/
- https://habr.com/ru/companies/selectel/articles/532868/
- https://habr.com/ru/companies/slurm/articles/575464/
- https://habr.com/ru/articles/865040/
HTTP - протокол транспортного уровня для передачи гипертекстовой разметки. Работает поверх UDP или TCP.
У HTTP есть несколько версий. 
## HTTP 0.9
Первые версии. Нет SSL, все запросы однострочные, нет заголовоков
## HTTP 1
Появились заголовки
## HTTP 1.1
### Нововведения
Стало возможно шифровать трафик через протокол SSL. Добавились новые методы
- PUT
- DELETE
- OPTIONS
- HOST
Последний заголовок сделал возможным располагать несколько доменов на одном айпи адресе. 
Появилось keep-alive соединение. Keep-alive снижает нагрузку на сервер, так как при создании http соединения устанавливается tcp соединение. А после выполнения запроса закрывается. Это требует ресурсов от процессора. Поэтому если клиентов станет очень много, то сервер просто задохнется. Чтобы разорвать соединение нужно передать заголовок `Connection: close`
Появилась возможность передавать информацию чанками. 
### Проблемы
- Отсутсвие параллельнотси
- Нет сжатия заголовков
- Head of line blocking. Это проблема возникает, когда один какой-то объект мешает обрабатываться другим. Например, он очень большой, а десятки маленьких не могут начать обрабатываться из-за него
## HTTP 2
### Нововведения
#### Мультиплексирование
Основная фишка HTTP 2 - мультиплексирование. Это что-то вроде полноценной многопоточности. Мультиплексирование позволяет внутри одного TCP соединения создать потоки, в которых будет передаваться сообщение
![[Pasted image 20250927225336.png]]
#### Бинарный
Также HTTP 2 стал *бинарным* протоколом. 
#### Сжатие заголовков
Появилось сжатие заголовков с помощью HPACK
#### Server push
Server push это механизм, который позволяет отправлять северу те данные, которые клиент не запрашивал. Например, клиент запрашивает тольок html-страницу, а ему сервер еще отсылает css и статиские файлы
### Проблемы
- Все та же Head of line blocking, так как долгий TCP никуда не делся
## HTTP 3
В HTTP 3 уже используется не TCP, а новый протокол QUICK.+ UPD. 
## HTTP запрос и ответ
HTTP запрос состоит из:
- Метод HTTP
- URL ресурса
- Версия HTTP
- Заголовки: какая-то метаинформация, кастомные значения
- Тело запроса (если PUT, POST, PATCH)
```
GET example.com HTTP 1.1
HOST: google.com
User-Agent: me
```