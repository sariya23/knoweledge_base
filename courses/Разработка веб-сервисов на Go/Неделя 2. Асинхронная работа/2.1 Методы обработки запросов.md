[[Разработка веб-сервисов на Go]]

## Context switch
- Процессор выполняет только 1 задачу одновременно
- Планировщик задач переключает их. Для этого он сохраняет состояние этой задачи и загружает другую в процессор. Для этого может потребоваться обращение к RAM, что не очень быстро по меркам компьютера
## Способы обработки запросов на веб-сервере
### cgi-bin
Одно соединение - один процесс. Опасность тут в том, что при большом кол-ве запросов можно упереться в память.
Эволюцией этой подхода является worker pool, когда есть какое-то ограниченное кол-во процессов, которые не убиваются после завершения запроса, а используются при другом запросе

### Multithreading
Одно соединение - один тред. Опять же - много запросов, упремся в память. Тоже дорогое переключение. Опять же можно создать pool

### non blocking I/O на 1 ядре
Событийная модель, кооперативная многозадачность (задача явно объявляет о том, что она может отдать ресурс). Одновременно работает только 1 задача, но IO не блокируется. Если много запросов - упремся в ЦПУ. Если задача сложная для процессора (архивирование, шифрование), то нам не будет хватать время ожидания от другой задачи

### non blocking I/O miltithreading
Именно такая модель реализована в Go. Основывается она на CSP (взаимодействующие последовательные процессы) Тони Хоара. Go оперирует горутинами
Горутина можно что-то выполнять, потом уйти в ожидание, а потом продолжить выполняться уже другом треде, так как первый тред уже занят другой горутиной