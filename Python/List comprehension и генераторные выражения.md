[[Python]]
## List compregension
Списковые выражение используются для построения списков. В этом их основное преимущество - они делают только одну вещь. Поэтому код будет читаться проще
```python
for i in range(10):
	lst.append(i)

lst = [i for i in range(10)]
```
Цикл запускается по разным причинам, не только для того, чтобы построить список. Поэтому читателю потребуется чуть больше времени на понимание какого-то участка. В случае с выражениями списков сразу ясно - тут создается список.
Переменные внутри существуют только в момент выражения:
```python
a = [i for i in range(10)]
print(i)  # NameError
```
Также стоит использовать выражения в случае фильтрации или мапинга, так как код будет более читаемый и яснее выражает мысль.
```python
lst = ["1", "2", "3", "4"]
lst = list(filter(lambda x: x % 2 == 0, map(int, lst)))
print(lst)  # [2, 4]

lst = [int(i) for i in lst if int(i) % 2 == 0]
print(lst)  # [2, 4]
```
Но списковые выражения не стоит использовать постоянно как замену циклу, так как если логика чуть сложнее чем одно условие или есть вложенных циклов 2 или больше, то читаемость кода упадет. Также если нужна какая-то предобработка значений, то нужно использовать обычный цикл
## Генераторные выражения (genexp)
genexp похоже на компы, отличие в круглых скобках. Но также они экономят память, так как не хранят все элементы разом в памяти, а отдают их по запросу, используя протокол итераторов.
```python
colors = ["black", "white", "orange"]
sizes = ["L", "M", "S"]

shirt = (f"{s} {c}" for s in sizes for c in colors)
print(shirt)  # generator object

print(next(shirt))  # L black

for i in shirt:
    print(i)  # остальные, без первого
```
Также генераторные выражения можно передать в конструкторы разных коллекций
```python
colors = ["black", "white", "orange"]
sizes = ["L", "M", "S"]


t = tuple(f"{s} {c}" for s in sizes for c in colors)
print(t)  # размеры и цвета
```
