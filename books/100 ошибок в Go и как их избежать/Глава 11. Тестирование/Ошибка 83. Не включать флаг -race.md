[[100 ошибок в Go и как их избежать]]

Детектор гонки в Go - не статический инструмент. Поиск гонки данных происходит *во время выполнения*. Как только детектор гонки становится активирован, компилятор *инструментирует* код для обнаружения гонок данных. *Инструментация* - это действия компилятора, которые добавляют доп. инструкции. Но детектор гонки имеет и отрицательные стороны:
- Расход памяти может увеличиться в 5-10 раз
- Время выполнения может увеличиться в 2-20 раз

Внутри себя детектор гонки использует *векторные часы* - структуру данных, которую применяют для определения частичного упорядочивания событий. Каждое состояние горутины приводит к созданию векторных часов. Инструментация обновляет векторные часы при каждом действии по доступу к памяти и акте синхронизации. Затем она сравнивает векторные часы, чтобы обнаружить потенциальную гонку данных.

Детектор дает либо True positive результат, либо False Positive. 