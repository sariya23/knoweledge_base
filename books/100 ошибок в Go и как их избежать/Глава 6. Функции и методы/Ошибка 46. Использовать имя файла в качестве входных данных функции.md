[[100 ошибок в Go и как их избежать]]

При создании функции, которая должна прочитать файл, передача ей имени файла не считается хорошей практикой и может приводить к негативным последствиям, например к сложности написания юнит тестов.

Предположим, есть функция, которая считает кол-во пустых строк в файле:
```go
func countEmptyLinesInFile(filename string) (int, error) {
	file, err := os.Open(filename)
	if err != nil {
		return 0, err
	}
	scanner := bufio.NewScanner(file)
	for scanner.Scan() {}
}
```
Мы открываем файл, а затем используем сканнер. Проблема тут в том, что при написании тестов на придется создавать файлы для граничных случаев, также эту функцию нельзя будет переиспользовать, например для чтения данных из тела запроса - придется дублировать логику.

Чтобы решить эти проблемы, мы будем принимать на вход не какой-то конкретный тип, а интерфейс `io.Reader`
```go
func countEmptyLinesInFile(reader io.Reader) (int, error) {
	scanner := bufio.NewScanner(reader)
	for scanner.Scan() {}
}
```
Преимущество такого подхода в том, что мы сможем посчитать кол-во пустых строк в любом типе, который реализует интерфейс `io.Reader`. При юнит тестировании мы сможем создать ридер из строки, тем самым не придется создавать файлы
