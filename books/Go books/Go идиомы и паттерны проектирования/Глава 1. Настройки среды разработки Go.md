[[Go идиомы и паттерны проектирования]]

## Установка Go
Вся информация есть на офф. сайте - https://go.dev/doc/install

Главное - это добавить нужные переменные окружения. А именно `GOPATH` и добавить в `PATH` путь до бинарника Go.
`GOPATH` переменная, в которой будет лежать путь до исполняемых файлов Go, установленных через `go install`

```
export GOPATH=$HOME/go
export PATH=$PATH:$GOPATH/bin
```

## Команда `go`
С ее помощью делается практически все.

### `go run`, `go build`
`go run` - запускает переданный go-файл, без создания бинарника. Компиляция происходит, просто скомпилированный файл помещается в временную директорию, оттуда запускается, а после выполнения удаляется. 
`go build` - компилирует файл, который можно потом запустить на любом ПК, так как для запуска go не требуется - это же всего лишь бинарь. По умолчанию у бинаря будет такое же имя, как и у .go файла. Это можно изменить, передав флаг `-o` и прописав после имя:
```bash
go build -o my_programm file.go
```

## Установка сторонних инструментов для Go
Тут нет централизированного репозитория. Если что-то нужно - welcome на github или на подобное место. Например:
```bash
go install github.com/rakyll/hey@latest
```
Значение после `@` обозначает версию. При этом установятся все зависимости, программа скомпилируется и сохранится в `$GOPATH/bin`.

## Точки с запятой
Компилятор Go автоматически проставляет `;`. Но все-таки некоторые правила есть. Если символу новой строки предшествует один из ниже случаев, то `;` ставится автоматом:
- идентификатор (например,  `int` и `float64`)
- один из базовых литералов, таких как число или строковая константа
- Одна из лексем: `break`, `continue`, `fallthrough`, `return`, `++`, `--`, `)`, `}`

Поэтому такой код не скомпилируется:
```go
func main()
{
	doSmth()
}
```
Так как будет приведен к виду:
```go
func main();
{
	doSmth()
};
```

Такие инструменты как `fmt` форматируют код так, как надо - под один стандарт. Также есть инструмент `goimpoerts`, который удалит ненужные импорты и отсортирует оставшиеся в алфавитном порядке. 
**Установка**:
```bash
 go install golang.org/x/tools/cmd/goimports@latest
```
**Использование**:
```bash
goimports -l -w .
```
`-l` - вывести список неправильных импортов
`-w` - исправить
В Vscode это применяется автоматически после сохранения файла.

## Фишка в Go playground
Там можно имитировать несколько файлов с помощью `-- filename.go --:
```go 
package main

func main() {
	Bar()
}
-- foo.go --
package main

import "fmt"

func Bar() {
	fmt.Println("Hello")
}

```
Гоферы, или разработчики Go, произносят слово `fmt` как _«FOOMT!»_, будто эффект взрыва из комикса.