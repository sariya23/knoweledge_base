[[100 ошибок в Go и как их избежать]]

В Go 1.23 такой проблемы уже нет - то, что в цикле `range` переменная значение создается только один раз и указатель на нее одинаковый.

Прикольный момент. Если мы хотим вставить новое значение в карту, где ключ какая то структура и храним мы не указатель на нее, то получится это сделать только за 2 шага:
```go
func f(m map[string]Struct, id string) {
	val := m[id]
	val.foo = "bar"
	m[id] = val
} 
```
Если же там указатель на структуру, то можно за 1 шаг:
```go
func f(m map[string]*Struct, id string) {
	m[id].foo = "bar"
} 
```