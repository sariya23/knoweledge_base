[[100 ошибок в Go и как их избежать]]

Важно помнить, что при интерации цикл `for-range` создает 2 значения - для индекса и значения. А потом копирует в значение элемент из итерируемого объекта. Поэтому такой код:
```go
type account struct {
    balance int
}
func main() {
    acs := []account{
        {100},
        {200},
        {300},
    }
    for _, v := range acs {
        v.balance += 1000
    }
    fmt.Println(acs)
}
```
Не изменит значения структур, так как в `v` копируется значение. Но так прокатит только со структурами, если итерироваться по слайсам, значения будут меняться.
Момент со слайсами можно решить 3 мя способами:
Использовать классический `for`:
```go
for i := 0; i < len(acs); i++ {
	acs[i].balance += 1000
}
```
Использовать `range` с только индексом:
```go
for i := range acs {
	acs[i].balance += 1000
}
```
Изменить оригинальный слайс, хранив там указатели:
```go
    acs := []*account{
        {100},
        {200},
        {300},
    }
    for _, v := range acs {
		v.balance += 1000
	}
```